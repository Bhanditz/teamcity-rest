<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
               http://www.springframework.org/schema/beans
               http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
               http://www.springframework.org/schema/context
               http://www.springframework.org/schema/context/spring-context-3.0.xsd"
       default-autowire="constructor">

  <!--
      The AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor are both
      included implicitly when using the component-scan element.
      That means that the two components are autodetected and  wired together
  -->
  <context:component-scan base-package="jetbrains.buildServer.server.rest"/>

  <!-- <aop:aspectj-autoproxy/> -->

  <bean id="serverListener" class="jetbrains.buildServer.server.rest.data.ServerListener"/>

  <bean id="notFoundExceptionMapper" class="jetbrains.buildServer.server.rest.errors.NotFoundExceptionMapper"/>
  <bean id="badRequestExceptionMapper" class="jetbrains.buildServer.server.rest.errors.BadRequestExceptionMapper"/>
  <bean id="invalidStateExceptionMapper" class="jetbrains.buildServer.server.rest.errors.InvalidStateExceptionMapper"/>
  <bean id="locatorProcessExceptionMapper" class="jetbrains.buildServer.server.rest.errors.LocatorProcessExceptionMapper"/>
  <bean id="authorizationFailedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AuthorizationFailedExceptionMapper"/>
  <bean id="accessDeniedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AccessDeniedExceptionMapper"/>
  <bean id="webApplicationExceptionMapper" class="jetbrains.buildServer.server.rest.errors.WebApplicationExceptionMapper"/>
  <bean id="jerseyNotFoundExceptionMapper" class="jetbrains.buildServer.server.rest.errors.JerseyNotFoundExceptionMapper"/>
  <bean id="jerseyParamExceptionExceptionMapper" class="jetbrains.buildServer.server.rest.errors.JerseyParamExceptionExceptionMapper"/>
  <bean id="operationExceptionMapper" class="jetbrains.buildServer.server.rest.errors.OperationExceptionMapper"/>
  <bean id="runtimeExceptionMapper" class="jetbrains.buildServer.server.rest.errors.RuntimeExceptionMapper"/>

  <bean id="apiController" class="jetbrains.buildServer.server.rest.APIController"/>

  <bean id="restDataProvider" class="jetbrains.buildServer.server.rest.data.DataProvider"/>
  <bean id="restbuildFinder" class="jetbrains.buildServer.server.rest.data.BuildFinder"/>
  <bean id="restbuildTypeFinder" class="jetbrains.buildServer.server.rest.data.BuildTypeFinder"/>
  <bean id="restProjectFinder" class="jetbrains.buildServer.server.rest.data.ProjectFinder"/>
  <bean id="restUserGroupFinder" class="jetbrains.buildServer.server.rest.data.UserGroupFinder"/>
  <bean id="restUserFinder" class="jetbrains.buildServer.server.rest.data.UserFinder"/>
  <bean id="restVcsRootFinder" class="jetbrains.buildServer.server.rest.data.VcsRootFinder"/>
  <bean id="restBuildArtifactsFinder" class="jetbrains.buildServer.server.rest.data.BuildArtifactsFinder"/>
  <bean id="restChangeFinder" class="jetbrains.buildServer.server.rest.data.ChangeFinder"/>

  <bean id="restDataUpdater" class="jetbrains.buildServer.server.rest.data.DataUpdater"/>
  <bean id="beanFactory" class="jetbrains.buildServer.server.rest.util.BeanFactory"/>

  <bean id="requestPathTransformInfo" class="jetbrains.buildServer.server.rest.RequestPathTransformInfo"/>

  <bean id="urlBuilderProvider" class="jetbrains.buildServer.server.rest.jersey.UrlBuilderProvider"/>
  <bean id="dataProviderContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataProviderContextProvider"/>
  <bean id="buildFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.BuildFinderContextProvider"/>
  <bean id="buildTypeFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.BuildTypeFinderContextProvider"/>
  <bean id="projectFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.ProjectFinderContextProvider"/>
  <bean id="userGroupFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.UserGroupFinderContextProvider"/>
  <bean id="userFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.UserFinderContextProvider"/>
  <bean id="vcsRootFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.VcsRootFinderContextProvider"/>
  <bean id="buildArtifactsFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.BuildArtifactsFinderContextProvider"/>
  <bean id="changeFinderContextProvider" class="jetbrains.buildServer.server.rest.jersey.ChangeFinderContextProvider"/>

  <bean id="dataUpdaterContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataUpdaterContextProvider"/>
  <bean id="serviceLocatorContextProvider" class="jetbrains.buildServer.server.rest.jersey.ServiceLocatorContextProvider"/>
  <bean id="beanFactoryContextProvider" class="jetbrains.buildServer.server.rest.jersey.BeanFactoryContextProvider"/>

  <bean id="jacksonObjectMapperResolver" class="jetbrains.buildServer.server.rest.jersey.JacksonObjectMapperResolver"/>
</beans>