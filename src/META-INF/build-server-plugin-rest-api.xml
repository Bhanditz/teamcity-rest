<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
               http://www.springframework.org/schema/beans
               http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
               http://www.springframework.org/schema/context
               http://www.springframework.org/schema/context/spring-context-3.0.xsd"
       default-autowire="constructor">

  <!--
      The AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor are both
      included implicitly when using the component-scan element.
      That means that the two components are autodetected and  wired together
  -->
  <context:component-scan base-package="jetbrains.buildServer.server.rest"/>

  <!-- <aop:aspectj-autoproxy/> -->

  <bean id="serverListener" class="jetbrains.buildServer.server.rest.data.ServerListener"/>

  <bean id="notFoundExceptionMapper" class="jetbrains.buildServer.server.rest.errors.NotFoundExceptionMapper"/>
  <bean id="badRequestExceptionMapper" class="jetbrains.buildServer.server.rest.errors.BadRequestExceptionMapper"/>
  <bean id="invalidStateExceptionMapper" class="jetbrains.buildServer.server.rest.errors.InvalidStateExceptionMapper"/>
  <bean id="locatorProcessExceptionMapper" class="jetbrains.buildServer.server.rest.errors.LocatorProcessExceptionMapper"/>
  <bean id="authorizationFailedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AuthorizationFailedExceptionMapper"/>
  <bean id="accessDeniedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AccessDeniedExceptionMapper"/>
  <bean id="webApplicationExceptionMapper" class="jetbrains.buildServer.server.rest.errors.WebApplicationExceptionMapper"/>
  <bean id="jerseyNotFoundExceptionMapper" class="jetbrains.buildServer.server.rest.errors.JerseyNotFoundExceptionMapper"/>
  <bean id="operationExceptionMapper" class="jetbrains.buildServer.server.rest.errors.OperationExceptionMapper"/>
  <bean id="runtimeExceptionMapper" class="jetbrains.buildServer.server.rest.errors.RuntimeExceptionMapper"/>

  <bean id="apiController" class="jetbrains.buildServer.server.rest.APIController"/>

  <bean id="restDataProvider" class="jetbrains.buildServer.server.rest.data.DataProvider"/>
  <bean id="restDataUpdater" class="jetbrains.buildServer.server.rest.data.DataUpdater"/>
  <bean id="beanFactory" class="jetbrains.buildServer.server.rest.util.BeanFactory"/>

  <bean id="requestPathTransformInfo" class="jetbrains.buildServer.server.rest.RequestPathTransformInfo"/>

  <bean id="urlBuilderProvider" class="jetbrains.buildServer.server.rest.jersey.UrlBuilderProvider"/>
  <bean id="dataProviderContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataProviderContextProvider"/>
  <bean id="dataUpdaterContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataUpdaterContextProvider"/>
  <bean id="serviceLocatorContextProvider"
        class="jetbrains.buildServer.server.rest.jersey.ServiceLocatorContextProvider"/>
  <bean id="beanFactoryContextProvider" class="jetbrains.buildServer.server.rest.jersey.BeanFactoryContextProvider"/>

  <bean id="jAXBContextResolver" class="jetbrains.buildServer.server.rest.jersey.JAXBContextResolver"/>
</beans>