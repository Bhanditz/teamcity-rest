<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:lang="http://www.springframework.org/schema/lang" xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                           http://www.springframework.org/schema/lang
                           http://www.springframework.org/schema/lang/spring-lang-2.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"
       default-autowire="constructor">

  <!--
      The AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor are both
      included implicitly when using the component-scan element.
      That means that the two components are autodetected and  wired together
  -->
  <context:component-scan base-package="jetbrains.buildServer.server.rest"/>

  <!-- <aop:aspectj-autoproxy/> -->

  <bean id="serverListener" class="jetbrains.buildServer.server.rest.ServerListener"/>

  <bean id="notFoundExceptionMapper" class="jetbrains.buildServer.server.rest.errors.NotFoundExceptionMapper"/>
  <bean id="badRequestExceptionMapper" class="jetbrains.buildServer.server.rest.errors.BadRequestExceptionMapper"/>
  <bean id="authorizationFailedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AuthorizationFailedExceptionMapper"/>
  <bean id="accessDeniedExceptionMapper" class="jetbrains.buildServer.server.rest.errors.AccessDeniedExceptionMapper"/>
  <bean id="webApplicationExceptionMapper" class="jetbrains.buildServer.server.rest.jersey.WebApplicationExceptionMapper"/>

  <bean id="apiController" class="jetbrains.buildServer.server.rest.APIController"/>

  <bean id="restDataProvider" class="jetbrains.buildServer.server.rest.DataProvider"/>
  <bean id="restDataUpdater" class="jetbrains.buildServer.server.rest.DataUpdater"/>

  <bean id="requestPathTransformInfo" class="jetbrains.buildServer.server.rest.RequestPathTransformInfo"/>

  <bean id="urlBuilderProvider" class="jetbrains.buildServer.server.rest.jersey.UrlBuilderProvider"/>
  <bean id="dataProviderContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataProviderContextProvider"/>
  <bean id="dataUpdaterContextProvider" class="jetbrains.buildServer.server.rest.jersey.DataUpdaterContextProvider"/>

</beans>